<?xml version="1.0" ?><component loc="89:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP" safe="">
      <documentation loc="67:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc">
        <short>
 Primitives for accessing the SPI module on ATmega128
 microcontroller.</short>
        <long>
 Primitives for accessing the SPI module on ATmega128
 microcontroller.  This module assumes the bus has been reserved and
 checks that the bus owner is in fact the person using the bus.
 SpiPacket provides an asynchronous send interface where the
 transmit data length is equal to the receive data length, while
 SpiByte provides an interface for sending a single byte
 synchronously. SpiByte allows a component to send a few bytes
 in a simple fashion: if more than a handful need to be sent,
 SpiPacket should be used.


 &lt;pre&gt;
  $Id: Atm128SpiP.nc,v 1.12 2010-06-29 22:07:43 scipio Exp $
 &lt;/pre&gt;

 @author Philip Levis
 @author Joe Polastre
 @author Martin Turon &lt;mturon@xbow.com&gt;

</long>
      </documentation>
      <module/>
    <specification><interface loc="296:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="zeroTask" provided="0" ref="0x409a5860">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="zeroTask" ref="0x409a5860" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.TaskBasic" qname="TaskBasic"/>
      </instance>
      <interface-functions>
        <function-ref name="postTask" ref="0x409a5a38" scoped=""/>
        <function-ref name="runTask" ref="0x409a5b18" scoped=""/>
      </interface-functions>
    </interface><interface loc="94:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="SpiPacket" provided="1" ref="0x4096ed10">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="SpiPacket" ref="0x4096ed10" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.SpiPacket" qname="SpiPacket"/>
      </instance>
      <interface-functions>
        <function-ref name="send" ref="0x4096eee8" scoped=""/>
        <function-ref name="sendDone" ref="0x4096d010" scoped=""/>
      </interface-functions>
    </interface><interface loc="99:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="ResourceArbiter" provided="0" ref="0x4096b158">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="ResourceArbiter" ref="0x4096b158" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.Resource" qname="Resource"/>
      </instance>
      <interface-parameters>
        <type-int alignment="I:1" cname="unsigned char" size="I:1" unsigned="">
          <typename><typedef-ref name="uint8_t" ref="0x40212b68"/></typename>
        </type-int>
      </interface-parameters>
      <interface-functions>
        <function-ref name="release" ref="0x4096b330" scoped=""/>
        <function-ref name="immediateRequest" ref="0x4096b410" scoped=""/>
        <function-ref name="request" ref="0x4096b4f0" scoped=""/>
        <function-ref name="granted" ref="0x4096b5d0" scoped=""/>
        <function-ref name="isOwner" ref="0x4096b6b0" scoped=""/>
      </interface-functions>
    </interface><interface loc="92:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="SpiByte" provided="1" ref="0x4096e370">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="SpiByte" ref="0x4096e370" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.SpiByte" qname="SpiByte"/>
      </instance>
      <interface-functions>
        <function-ref name="write" ref="0x4096e548" scoped=""/>
      </interface-functions>
    </interface><interface loc="91:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="Init" provided="1" ref="0x4096e010">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="Init" ref="0x4096e010" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.Init" qname="Init"/>
      </instance>
      <interface-functions>
        <function-ref name="init" ref="0x4096e1e8" scoped=""/>
      </interface-functions>
    </interface><interface loc="98:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="Spi" provided="0" ref="0x4097a4d0">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="Spi" ref="0x4097a4d0" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.chips.atm128.spi.Atm128Spi" qname="Atm128Spi"/>
      </instance>
      <interface-functions>
        <function-ref name="initSlave" ref="0x4097a6a8" scoped=""/>
        <function-ref name="sleep" ref="0x4096cb10" scoped=""/>
        <function-ref name="isSpiEnabled" ref="0x4097a868" scoped=""/>
        <function-ref name="dataReady" ref="0x4096cbf0" scoped=""/>
        <function-ref name="initMaster" ref="0x4097aa28" scoped=""/>
        <function-ref name="setMasterBit" ref="0x4097ab08" scoped=""/>
        <function-ref name="enableInterrupt" ref="0x4097abe8" scoped=""/>
        <function-ref name="read" ref="0x4097acc8" scoped=""/>
        <function-ref name="setMasterDoubleSpeed" ref="0x4097ada8" scoped=""/>
        <function-ref name="isInterruptEnabled" ref="0x4097ae88" scoped=""/>
        <function-ref name="setClock" ref="0x4096c010" scoped=""/>
        <function-ref name="isInterruptPending" ref="0x4096c0f0" scoped=""/>
        <function-ref name="setClockPolarity" ref="0x4096c1d0" scoped=""/>
        <function-ref name="isMasterDoubleSpeed" ref="0x4096c330" scoped=""/>
        <function-ref name="setDataOrder" ref="0x4096c410" scoped=""/>
        <function-ref name="write" ref="0x4096c4f0" scoped=""/>
        <function-ref name="enableSpi" ref="0x4096c5d0" scoped=""/>
        <function-ref name="isMasterBitSet" ref="0x4096c6b0" scoped=""/>
        <function-ref name="getClockPhase" ref="0x4096c790" scoped=""/>
        <function-ref name="getClock" ref="0x4096c870" scoped=""/>
        <function-ref name="hasWriteCollided" ref="0x4096c950" scoped=""/>
        <function-ref name="getClockPolarity" ref="0x4097a788" scoped=""/>
        <function-ref name="setClockPhase" ref="0x4097a948" scoped=""/>
        <function-ref name="isOrderLsbFirst" ref="0x4096ca30" scoped=""/>
      </interface-functions>
    </interface><interface loc="93:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="FastSpiByte" provided="1" ref="0x4096e6f8">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="FastSpiByte" ref="0x4096e6f8" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.FastSpiByte" qname="FastSpiByte"/>
      </instance>
      <interface-functions>
        <function-ref name="splitWrite" ref="0x4096e8d0" scoped=""/>
        <function-ref name="splitReadWrite" ref="0x4096e9b0" scoped=""/>
        <function-ref name="splitRead" ref="0x4096ea90" scoped=""/>
        <function-ref name="write" ref="0x4096eb70" scoped=""/>
      </interface-functions>
    </interface><interface loc="95:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="Resource" provided="1" ref="0x4096d488">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="Resource" ref="0x4096d488" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.Resource" qname="Resource"/>
      </instance>
      <interface-parameters>
        <type-int alignment="I:1" cname="unsigned char" size="I:1" unsigned="">
          <typename><typedef-ref name="uint8_t" ref="0x40212b68"/></typename>
        </type-int>
      </interface-parameters>
      <interface-functions>
        <function-ref name="release" ref="0x4096d660" scoped=""/>
        <function-ref name="immediateRequest" ref="0x4096d740" scoped=""/>
        <function-ref name="request" ref="0x4096d820" scoped=""/>
        <function-ref name="granted" ref="0x4096d900" scoped=""/>
        <function-ref name="isOwner" ref="0x4096d9e0" scoped=""/>
      </interface-functions>
    </interface><interface loc="100:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="ArbiterInfo" provided="0" ref="0x409967b8">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="ArbiterInfo" ref="0x409967b8" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.ArbiterInfo" qname="ArbiterInfo"/>
      </instance>
      <interface-functions>
        <function-ref name="inUse" ref="0x40996990" scoped=""/>
        <function-ref name="userId" ref="0x40996a70" scoped=""/>
      </interface-functions>
    </interface><interface loc="101:/opt/tinyos-2.1.2/tos/chips/atm128/spi/Atm128SpiP.nc" name="McuPowerState" provided="0" ref="0x40996c38">
      <component-ref nicename="tos.chips.atm128.spi.Atm128SpiP" qname="Atm128SpiP"/>
      <type-interface alignment="I:1" size="I:2"><interface-ref name="McuPowerState" ref="0x40996c38" scoped=""/></type-interface>
      <instance>
        <interfacedef-ref nicename="tos.interfaces.McuPowerState" qname="McuPowerState"/>
      </instance>
      <interface-functions>
        <function-ref name="update" ref="0x40996e10" scoped=""/>
      </interface-functions>
    </interface></specification><referenced/></component>